{"version":3,"sources":["reducers/lists.js","reducers/boards.js","reducers/ui.js","reducers/index.js","actions/types.js","reducers/cards.js","constants.js","store.js","localStorage.js","Root.js","components/BoardCard.js","components/ui/LinkButton.js","components/ui/ClickCatcher.js","actions/ui.js","components/BoardDrawer.js","components/AppBar.js","actions/cards.js","components/ui/Overlay.js","components/card/Card.js","constants/ItemTypes.js","actions/lists.js","components/AddCardButton.js","components/List.js","components/ui/Editable.js","actions/boards.js","components/ui/form/Button.js","components/ui/form/Input.js","components/ui/form/TextArea.js","components/ui/Editor.js","components/AddListButton.js","components/Board.js","components/Boards.js","components/Content.js","components/CreateBoardModal.js","components/App.js","actions/initial.js","index.js"],"names":["id0","uuid","id1","id2","defaultState","_defaultState","Object","defineProperty","id","name","cardIds","editing","boards","0","listIds","1","boardIds","addListEditor","boardId","open","addCardEditor","listId","boardDrawer","pinned","createBoardModal","asyncInitialState","combineReducers","state","arguments","length","undefined","action","type","payload","newState","assign","push","_action$payload","newBoards","index","indexOf","splice","objectSpread","_action$payload2","_action$payload3","lists","cardId","_action$payload4","copyState","list","findIndex","cards","concat","toConsumableArray","slice","card","map","cardImage","file","ui","copyAndUpdate","element","domain","store","createStore","reducers","compose","applyMiddleware","thunk","Promise","resolve","axios","then","res","data","listLocal","boardLocal","board","_","indexBy","composeWithDevTools","subscribe","throttle","_store$getState","getState","serializedState","JSON","stringify","localStorage","setItem","e","alert","saveState","Root","props","react_default","a","createElement","es","children","BoardCard","className","onClick","this","React","Component","LinkButton","content","ClickCatcher","ReactDOM","createPortal","onDismiss","document","getElementById","toggleCreateBoardModal","formatString","str","Error","trim","toLowerCase","split","join","BoardDrawer","values","_this","filteredBoardIds","keyword","handleSearch","setState","target","value","filter","includes","renderBoards","Link","to","key","components_BoardCard","renderPinToggleButton","_this$props","pinBoardDrawer","ui_LinkButton","_this$props2","Input","fluid","placeholder","onChange","ui_ClickCatcher","connect","toggleBoardDrawer","handleDrawerClick","Button","primary","Icon","_props$boardDrawer","components_BoardDrawer","renderDrawer","createCardAsync","dispatch","heading","labels","Axios","post","status","createCard","catch","err","console","error","updateCard","deleteCardAsync","deleteCard","Overlay","stopPropagation","Card","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","cardRef","createRef","handleChange","handleSubmit","preventDefault","onUpdate","showModal","uploadFile","fileInputRef","current","click","fileChange","files","uploadFileAsync","hideModal","Image","src","alt","renderEditor","ui_Overlay","Modal","size","Header","Content","Form","onSubmit","Field","labelPosition","icon","ref","hidden","renderCard","connectDragSource","onDelete","isDragging","formData","FormData","append","method","url","log","loadCardImage","DragSource","beginDrag","monitor","getItem","dragSource","isDraggin","createListAsync","createList","deleteList","updateList","attachToListAsync","attachToList","detachFromList","AddCardButton","onCreateCard","button","imageUrl","trigger","openAddCardEditor","closeAddCardEditor","updateCardAsync","detachFromListAsync","DropTarget","drop","dndConnect","connectDropTarget","dropTarget","isOver","handleCreateCard","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","sent","stop","_x","apply","handleDeleteCard","handleUpdateCard","handleClick","find","cardProps","card_Card","components_AddCardButton","Editable","inputRef","handleFinishEdit","onEdit","handleInputChange","renderValue","readOnly","renderEdit","onKeyDown","onBlur","defaultValue","autoFocus","defaultProps","createBoard","attachToBoard","updateBoard","ButtonWrapper","displayName","InputWrapper","forwardref","TextAreaWrapper","TextArea","Editor","count","editorRef","handleDismiss","style","opacity","maxHeight","setTimeout","limit","exceedMaxCount","handleKeyDown","focus","renderInput","child","cloneElement","renderCount","renderTextArea","Ref","innerRef","_this$state","renderButton","renderChildren","Children","select","openAddListEditor","closeAddListEditor","attachToBoardAsync","handleCreateList","listName","editor","ui_Editor","Board","match","params","handleNameClick","updateBoardAsync","handleDeleteList","cardsIdsDelete","forEach","deleteAllListCards","deleteListAsync","renderLists","components_List","ui_Editable","updateListAsync","Redirect","components_AddListButton","Boards","Switch","Route","exact","path","component","render","components_Board","CreateBoardModal","App","componentDidMount","loadInitialState","handleCreateBoard","_ref2","createBoardAsync","history","components_CreateBoardModal","components_AppBar","components_Content","withRouter","DragDropContext","HTML5Backend","message","src_Root","HashRouter","components_App"],"mappings":"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","file":"static/js/main.420ecafa.chunk.js","sourcesContent":["import uuid from \"uuid/v4\";\r\n\r\nimport * as actionTypes from \"actions/types\";\r\n\r\nexport const id0 = uuid();\r\nexport const id1 = uuid();\r\nexport const id2 = uuid();\r\n\r\nconst defaultState = {\r\n  [id0]: { id: id0, name: \"Todo\", cardIds: [], editing: false },\r\n  [id1]: { id: id1, name: \"Doing\", cardIds: [], editing: false },\r\n  [id2]: { id: id2, name: \"Done\", cardIds: [], editing: false }\r\n};\r\n\r\nconst copyState = state => {\r\n  return Object.assign({}, state);\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.CREATE_LIST: {\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    }\r\n\r\n    case actionTypes.DELETE_LIST: {\r\n      const newState = Object.assign({}, state);\r\n      if (newState[action.payload.listId]) {\r\n        delete newState[action.payload.listId];\r\n      }\r\n      return newState;\r\n    }\r\n\r\n    case actionTypes.ATTACH_TO_LIST: {\r\n      const { listId, cardId } = action.payload;\r\n      const newState = Object.assign({}, state);\r\n      newState[listId].cardIds.push(cardId);\r\n      return newState;\r\n    }\r\n\r\n    case actionTypes.DETACH_FROM_LIST: {\r\n      const { listId, cardId } = action.payload;\r\n      const newState = Object.assign({}, state);\r\n      const index = newState[listId].cardIds.indexOf(cardId);\r\n      newState[listId].cardIds.splice(index, 1);\r\n      return newState;\r\n    }\r\n\r\n    case actionTypes.UPDATE_LIST: {\r\n      const { listId, name, editing } = action.payload;\r\n      const newState = Object.assign({}, state);\r\n      newState[listId].name = name;\r\n      newState[listId].editing = editing;\r\n      return newState;\r\n    }\r\n\r\n    case actionTypes.DELETE_CARD: {\r\n      const { cardId, listId } = action.payload;\r\n      const newState = copyState(state);\r\n      const list = newState[listId];\r\n\r\n      if (!list) {\r\n        return state;\r\n      }\r\n\r\n      const index = list.cardIds.findIndex(id => cardId === id);\r\n      list.cardIds.splice(index, 1);\r\n      return newState;\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as actionTypes from \"actions/types\";\r\nimport { id0, id1, id2 } from './lists';\r\n\r\nconst defaultState = {\r\n  boards: {\r\n    0: {\r\n      id: 0,\r\n      name: \"Development\",\r\n      listIds: [id0, id1, id2],\r\n      editing: false\r\n    },\r\n    1: {\r\n      id: 1,\r\n      name: \"Personal Project\",\r\n      listIds: [id0],\r\n      editing: false\r\n    }\r\n  },\r\n  boardIds: [0, 1]\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.CREATE_BOARD: {\r\n      const { boardId } = action.payload;\r\n      const newState = Object.assign({}, state);\r\n      if (!newState.boards[boardId]) {\r\n        newState.boardIds.push(boardId);\r\n        newState.boards[boardId] = action.payload;\r\n      }\r\n      return newState;\r\n    }\r\n\r\n    case actionTypes.DELETE_LIST: {\r\n      const { boardId, listId } = action.payload;\r\n      const newBoards = Object.assign({}, state.boards);\r\n      if (newBoards[boardId]) {\r\n        const index = newBoards[boardId].listIds.indexOf(listId);\r\n        newBoards[boardId].listIds.splice(index, 1);\r\n      }\r\n      return { ...state, boards: newBoards };\r\n    }\r\n\r\n    case actionTypes.ATTACH_TO_BOARD: {\r\n      const { boardId, listId } = action.payload;\r\n      const newState = Object.assign({}, state);\r\n      if (newState.boards[boardId]) {\r\n        newState.boards[boardId].listIds.push(listId);\r\n      }\r\n      return newState;\r\n    }\r\n\r\n    case actionTypes.UPDATE_BOARD: {\r\n      const { boardId, name, editing } = action.payload;\r\n      const newState = Object.assign({}, state);\r\n      if (newState.boards[boardId]) {\r\n        newState.boards[boardId].name = name;\r\n        newState.boards[boardId].editing = editing;\r\n      }\r\n      return newState;\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import * as actionTypes from \"actions/types\";\r\n\r\nconst defaultState = {\r\n  addListEditor: {\r\n    boardId: null,\r\n    open: false\r\n  },\r\n  addCardEditor: {\r\n    listId: null,\r\n    open: false\r\n  },\r\n  boardDrawer: {\r\n    open: false,\r\n    pinned: false\r\n  },\r\n  createBoardModal: {\r\n    open: false\r\n  }\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  const copyAndUpdate = element => {\r\n    return { ...state, [element]: { ...state[element], ...action.payload } };\r\n  };\r\n\r\n  switch (action.type) {\r\n    case actionTypes.UI_ADD_LIST_EDITOR: {\r\n      return copyAndUpdate(\"addListEditor\");\r\n    }\r\n\r\n    case actionTypes.UI_ADD_CARD_EDITOR: {\r\n      return copyAndUpdate(\"addCardEditor\");\r\n    }\r\n\r\n    case actionTypes.UI_BOARD_DRAWER: {\r\n      return copyAndUpdate(\"boardDrawer\");\r\n    }\r\n\r\n    case actionTypes.UI_CREATE_BOARD_MODAL: {\r\n      return copyAndUpdate(\"createBoardModal\");\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport boardReducer from \"reducers/boards\";\r\nimport listsReducer from \"reducers/lists\";\r\nimport cardsReducer from \"reducers/cards\";\r\nimport uiReducer from \"reducers/ui\";\r\n\r\nimport * as asyncInitialState from 'redux-async-initial-state';\r\n\r\nexport default asyncInitialState.outerReducer(combineReducers({\r\n  boards: boardReducer,\r\n  lists: listsReducer,\r\n  cards: cardsReducer,\r\n  ui: uiReducer,\r\n}));\r\n","// Board actions\r\nexport const CREATE_BOARD = \"CREATE_BOARD\";\r\nexport const DELETE_BOARD = \"DELETE_BOARD\";\r\nexport const UPDATE_BOARD = \"UPDATE_BOARD\";\r\nexport const ATTACH_TO_BOARD = \"ATTACH_TO_BOARD\";\r\nexport const DETACH_FROM_BOARD = \"DETACH_FROM_BOARD\";\r\n\r\n// List actions\r\nexport const CREATE_LIST = \"CREATE_LIST\";\r\nexport const UPDATE_LIST = \"UPDATE_LIST\";\r\nexport const DELETE_LIST = \"DELETE_LIST\";\r\nexport const ATTACH_TO_LIST = \"ATTACH_TO_LIST\";\r\nexport const DETACH_FROM_LIST = \"DETACH_FROM_LIST\";\r\nexport const DELETE_FROM_LIST = \"DELETE_FROM_LIST\";\r\n\r\n// Card actions\r\nexport const CREATE_CARD = \"CREATE_CARD\";\r\nexport const UPDATE_CARD = \"UPDATE_CARD\";\r\nexport const DELETE_CARD = \"DELETE_CARD\";\r\nexport const IMAGE_UPLOAD = \"IMAGE_UPLOAD\";\r\n\r\n// UI actions\r\nexport const UI_ADD_LIST_EDITOR = \"UI_ADD_LIST_EDITOR\";\r\nexport const UI_ADD_CARD_EDITOR = \"UI_ADD_CARD_EDITOR\";\r\nexport const UI_BOARD_DRAWER = \"UI_BOARD_DRAWER\";\r\nexport const UI_CREATE_BOARD_MODAL = \"UI_CREATE_BOARD_MODAL\";\r\n\r\n// Async actions\r\nexport const CREATE_BOARD_STARTED = \"CREATE_BOARD_STARTED\";\r\nexport const CREATE_BOARD_SUCCESS = \"CREATE_BOARD_SUCCESS\";\r\nexport const CREATE_BOARD_FAILED = \"CREATE_BOARD_FAILED\";\r\n\r\n","import * as actionTypes from \"actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case actionTypes.CREATE_CARD:\r\n      return [...state, action.payload];\r\n\r\n    case actionTypes.UPDATE_CARD: {\r\n      const newState = state.slice(0);\r\n      const index = newState.findIndex(card => card.id === action.payload.id);\r\n      newState[index] = { ...newState[index], ...action.payload };\r\n      return newState;\r\n    }\r\n\r\n    case actionTypes.DELETE_CARD: {\r\n      const newState = state.slice(0);\r\n      const index = newState.findIndex(\r\n        card => card.id === action.payload.cardId\r\n      );\r\n      newState.splice(index, 1);\r\n      return newState;\r\n    }\r\n\r\n    case actionTypes.DELETE_FROM_LIST: {\r\n      const newState = state.slice(0);\r\n      action.payload.map(cardId => {\r\n        const index = newState.findIndex(\r\n          card => card.id === cardId\r\n        );\r\n        newState.splice(index, 1);\r\n      });\r\n      return newState;\r\n    }\r\n\r\n    case actionTypes.IMAGE_UPLOAD: {\r\n      const newState = state.slice(0);\r\n      const index = newState.findIndex(\r\n        card => card.id === action.payload.cardId\r\n      );\r\n      newState[index].cardImage = action.payload.file.name;\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const ItemTypes = {\r\n  CARD: \"card\",\r\n  LIST: \"list\"\r\n};\r\n\r\nexport const domain = \"https://boiling-earth-76159.herokuapp.com\";\r\n","import throttle from \"lodash/throttle\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\nimport reducers from \"reducers\";\r\nimport { saveState, loadStore } from \"./localStorage\";\r\nimport * as asyncInitialState from 'redux-async-initial-state';\r\n\r\nconst store = createStore(reducers, compose(applyMiddleware(thunk, asyncInitialState.middleware(loadStore)), composeWithDevTools()));\r\n\r\nstore.subscribe(\r\n  throttle(() => {\r\n    const { boards, lists, cards } = store.getState();\r\n    saveState({\r\n      boards,\r\n      lists,\r\n      cards\r\n    });\r\n  }, 1000)\r\n);\r\n\r\nexport default store;\r\n","import axios from 'axios';\r\nimport { domain } from './constants';\r\n\r\nimport _ from 'underscore';\r\n\r\nexport const loadStore = () => {\r\n  return new Promise(resolve => {\r\n    axios(`${domain}/state`)\r\n    .then(res => {\r\n      res = res.data;\r\n      var boardLocal = {}, listLocal = {};\r\n      boardLocal.boardIds = [];\r\n      boardLocal.boards = {};\r\n      res.boards.map(board => {\r\n        boardLocal.boardIds.push(board.id);\r\n        boardLocal.boards[board.id] = {\r\n          boardId: board.id,\r\n          editing: false,\r\n          listIds: board.listIds,\r\n          name: board.name\r\n        };\r\n      });\r\n      res.boards = {\r\n        boards: boardLocal.boards,\r\n        boardIds: boardLocal.boardIds\r\n      };\r\n      listLocal = _.indexBy(res.lists, 'id');\r\n      res.lists = listLocal;\r\n      return res;\r\n    })\r\n      .then(resolve);\r\n  });\r\n}\r\n\r\n\r\nexport const saveState = state => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem(\"state\", serializedState);\r\n  } catch (e) {\r\n    alert(`Failed to save state: ${e}`);\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport store from \"store\";\r\n\r\nconst Root = props => {\r\n  return <Provider store={store}>{props.children}</Provider>;\r\n};\r\n\r\nexport default Root;\r\n","import React from \"react\";\r\n\r\nclass BoardCard extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"board-card\" onClick={this.props.onClick}>\r\n        <div className=\"board-card__thumbnail\">&nbsp;</div>\r\n        <div className=\"board-card__name\">{this.props.name}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BoardCard;\r\n","import React from \"react\";\r\n\r\nconst LinkButton = props => {\r\n  const { content } = props;\r\n  return (\r\n    <div className=\"link-button\" onClick={props.onClick}>\r\n      {content}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LinkButton;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst ClickCatcher = props => {\r\n  return ReactDOM.createPortal(\r\n    <div className=\"click-catcher\" onClick={props.onDismiss} />,\r\n    document.getElementById(\"clickCatcher\")\r\n  );\r\n};\r\n\r\nexport default ClickCatcher;\r\n","import * as actionTypes from \"./types\";\r\n\r\nexport const openAddListEditor = boardId => {\r\n  return {\r\n    type: actionTypes.UI_ADD_LIST_EDITOR,\r\n    payload: {\r\n      boardId,\r\n      open: true\r\n    }\r\n  };\r\n};\r\n\r\nexport const closeAddListEditor = () => {\r\n  return {\r\n    type: actionTypes.UI_ADD_LIST_EDITOR,\r\n    payload: {\r\n      open: false\r\n    }\r\n  };\r\n};\r\n\r\nexport const openAddCardEditor = listId => {\r\n  return {\r\n    type: actionTypes.UI_ADD_CARD_EDITOR,\r\n    payload: {\r\n      listId,\r\n      open: true\r\n    }\r\n  };\r\n};\r\n\r\nexport const closeAddCardEditor = () => {\r\n  return {\r\n    type: actionTypes.UI_ADD_CARD_EDITOR,\r\n    payload: {\r\n      listId: null,\r\n      open: false\r\n    }\r\n  };\r\n};\r\n\r\nexport const toggleBoardDrawer = open => {\r\n  return {\r\n    type: actionTypes.UI_BOARD_DRAWER,\r\n    payload: {\r\n      open\r\n    }\r\n  };\r\n};\r\n\r\nexport const pinBoardDrawer = pinned => {\r\n  return {\r\n    type: actionTypes.UI_BOARD_DRAWER,\r\n    payload: {\r\n      pinned\r\n    }\r\n  };\r\n};\r\n\r\nexport const toggleCreateBoardModal = open => {\r\n  return {\r\n    type: actionTypes.UI_CREATE_BOARD_MODAL,\r\n    payload: {\r\n      open\r\n    }\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Input } from \"semantic-ui-react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport BoardCard from \"./BoardCard\";\r\nimport LinkButton from \"./ui/LinkButton\";\r\nimport ClickCatcher from \"./ui/ClickCatcher\";\r\nimport { pinBoardDrawer, toggleCreateBoardModal } from \"actions/ui\";\r\n\r\nconst formatString = str => {\r\n  if (typeof str !== \"string\") {\r\n    throw new Error(\"input need to be string\");\r\n  }\r\n  return str\r\n    .trim()\r\n    .toLowerCase()\r\n    .split(\" \")\r\n    .join(\"\");\r\n};\r\n\r\nclass BoardDrawer extends React.Component {\r\n  boards = Object.values(this.props.boards);\r\n  state = {\r\n    filteredBoardIds: this.props.boardIds,\r\n    keyword: \"\"\r\n  };\r\n\r\n  handleSearch = e => {\r\n    this.setState({ keyword: e.target.value }, () => {\r\n      const keyword = formatString(this.state.keyword);\r\n      if (keyword === \"\") {\r\n        return this.setState({ filteredBoardIds: this.props.boardIds });\r\n      }\r\n      const filteredBoardIds = this.boards\r\n        .filter(board => formatString(board.name).includes(keyword))\r\n        .map(board => board.id);\r\n      this.setState({ filteredBoardIds });\r\n    });\r\n  };\r\n\r\n  renderBoards = () => {\r\n    const { boards } = this.props;\r\n    return this.state.filteredBoardIds.map(boardId => (\r\n      <Link to={`/${boardId}`} key={boardId}>\r\n        <BoardCard {...boards[boardId]} onClick={this.props.onDismiss} />\r\n      </Link>\r\n    ));\r\n  };\r\n\r\n  renderPinToggleButton = () => {\r\n    const { pinned, pinBoardDrawer } = this.props;\r\n    if (pinned) {\r\n      return (\r\n        <LinkButton\r\n          content=\"Don't keep this menu open\"\r\n          onClick={() => pinBoardDrawer(!pinned)}\r\n        />\r\n      );\r\n    }\r\n    return (\r\n      <LinkButton\r\n        content=\"Always keep this menu open\"\r\n        onClick={() => pinBoardDrawer(!pinned)}\r\n      />\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { pinned, toggleCreateBoardModal } = this.props;\r\n    const className = pinned ? \"board-drawer--pinned\" : \"\";\r\n\r\n    return ReactDOM.createPortal(\r\n      <div className={`board-drawer ${className}`}>\r\n        <div className={`board-drawer__header ${className}`}>\r\n          <span>Boards</span>\r\n        </div>\r\n        <div className=\"board-drawer__content\">\r\n          <div className=\"board-drawer__content__search\">\r\n            <Input\r\n              fluid\r\n              placeholder=\"Find boards by name...\"\r\n              value={this.state.keyword}\r\n              onChange={this.handleSearch}\r\n            />\r\n          </div>\r\n          <div className=\"board-drawer__content__boards\">\r\n            {this.renderBoards()}\r\n          </div>\r\n          <div className=\"board-drawer__content__buttons\">\r\n            <LinkButton\r\n              content=\"Create new board...\"\r\n              onClick={() => toggleCreateBoardModal(true)}\r\n            />\r\n            {this.renderPinToggleButton()}\r\n          </div>\r\n        </div>\r\n        {pinned || <ClickCatcher onDismiss={this.props.onDismiss} />}\r\n        {}\r\n      </div>,\r\n      document.getElementById(\"drawer\")\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    boardIds: state.boards.boardIds,\r\n    boards: state.boards.boards\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { pinBoardDrawer, toggleCreateBoardModal }\r\n)(BoardDrawer);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Icon } from \"semantic-ui-react\";\r\n\r\nimport BoardDrawer from \"./BoardDrawer\";\r\nimport { toggleBoardDrawer } from \"./../actions/ui\";\r\n\r\nconst AppBar = props => {\r\n  const handleDrawerClick = () => {\r\n    if (props.boardDrawer.open) {\r\n      return props.toggleBoardDrawer(false);\r\n    }\r\n    props.toggleBoardDrawer(true);\r\n  };\r\n\r\n  const renderDrawerButton = () => {\r\n    const { pinned } = props.boardDrawer;\r\n    return !pinned ? (\r\n      <Button\r\n        className=\"app-bar__boards-button\"\r\n        primary\r\n        onClick={handleDrawerClick}\r\n      >\r\n        <Icon name=\"square\" />\r\n        Boards\r\n      </Button>\r\n    ) : null;\r\n  };\r\n\r\n  const renderDrawer = () => {\r\n    const { pinned, open } = props.boardDrawer;\r\n    if (pinned) {\r\n      return <BoardDrawer pinned={pinned} />;\r\n    }\r\n    if (open) {\r\n      return (\r\n        <BoardDrawer\r\n          pinned={pinned}\r\n          onDismiss={() => props.toggleBoardDrawer(false)}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className=\"app-bar\">\r\n      {renderDrawerButton()}\r\n      <div className=\"app-bar__logo\" />\r\n      {renderDrawer()}\r\n    </header>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    boardDrawer: state.ui.boardDrawer\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { toggleBoardDrawer }\r\n)(AppBar);\r\n","import uuid from \"uuid/v4\";\r\n\r\nimport { domain } from '../constants';\r\n\r\nimport * as actionTypes from \"actions/types\";\r\nimport Axios from \"axios\";\r\n\r\nexport const createCardAsync = content => {\r\n  return dispatch => {\r\n    const data = {\r\n      id: uuid(),\r\n      editing: false,\r\n      content: content.content,\r\n      heading: content.heading,\r\n      labels: []\r\n    }; \r\n    return Axios.post(`${domain}/card/create`, data)\r\n    .then(res => {\r\n      if (res.status == 200) {\r\n        dispatch(createCard(data));\r\n        return createCard(data);\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    });\r\n  }\r\n}\r\n\r\nexport const createCard = content => {\r\n  return {\r\n    type: actionTypes.CREATE_CARD,\r\n    payload: {\r\n      ...content\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateCardAsync = card => {\r\n  return dispatch => {\r\n    const data = {\r\n      ...card\r\n    };\r\n    return Axios.post(`${domain}/card/update`, data)\r\n    .then(res => {\r\n      if (res.status == 200){\r\n        dispatch(updateCard(data));\r\n        return updateCard(data);\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    });\r\n    \r\n  }\r\n}\r\n\r\nexport const updateCard = card => {\r\n  return {\r\n    type: actionTypes.UPDATE_CARD,\r\n    payload: card\r\n  };\r\n};\r\n\r\nexport const deleteCardAsync = (listId, cardId) => {\r\n  return dispatch => {\r\n    const data = {\r\n      cardId,\r\n      listId\r\n    };\r\n    return Axios.post(`${domain}/card/delete`, data)\r\n    .then(res => {\r\n      if (res.status == 200) {\r\n        dispatch(deleteCard(data));\r\n        return deleteCard(data)\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    });\r\n    \r\n  }\r\n}\r\n\r\nexport const deleteCard = (data) => {\r\n  return {\r\n    type: actionTypes.DELETE_CARD,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const deleteAllListCards = cardIds => {\r\n  return dispatch => {\r\n    return Axios.post(`${domain}/card/del-all-cards`, cardIds)\r\n      .then(res => {\r\n        if (res.data == 200) {\r\n          dispatch({ type: actionTypes.DELETE_FROM_LIST, payload: cardIds });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }\r\n}\r\n\r\nexport const uploadFileAsync = (file, cardId) => {\r\n  const data = {\r\n    file,\r\n    cardId\r\n  };\r\n  let formData = new FormData();\r\n  formData.append('cardImage', file, file.name);\r\n  formData.append('cardId', cardId);\r\n  return dispatch => {\r\n    return Axios({\r\n      method: \"post\",\r\n      // headers: {\r\n      //   'Content-Type': 'multipart/form-data'\r\n      // },\r\n      url: `${domain}/card/upload`,\r\n      data: formData\r\n    })\r\n    .then(res => {\r\n      if (res.status == 200) {\r\n        dispatch({ type: actionTypes.IMAGE_UPLOAD, payload: data });\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n  }\r\n};\r\n\r\nexport const loadCardImage = cardId => {\r\n  // return dispatch => {\r\n  //   return Axios.get(`${domain}/card/img/${cardId}`)\r\n  //     .then(res => console.log(res.blob()));\r\n  // }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst Overlay = props => {\r\n  const handleClick = e => {\r\n    e.stopPropagation();\r\n    props.onDismiss();\r\n  };\r\n\r\n  return ReactDOM.createPortal(\r\n    <div className=\"overlay\" onClick={handleClick}>\r\n      {props.children}\r\n    </div>,\r\n    document.getElementById(\"overlay\")\r\n  );\r\n};\r\n\r\nexport default Overlay;\r\n","import React from \"react\";\r\nimport { DragSource } from \"react-dnd\";\r\nimport { connect } from 'react-redux';\r\nimport { Icon, Modal, Form, Button, Image } from \"semantic-ui-react\";\r\n\r\nimport { domain } from '../../constants';\r\nimport * as ItemTypes from \"constants/ItemTypes\";\r\nimport { uploadFileAsync, loadCardImage } from '../../actions/cards'\r\nimport Overlay from \"../ui/Overlay\";\r\n\r\nconst cardSource = {\r\n  beginDrag(props) {\r\n    return {\r\n      id: props.id,\r\n      listId: props.listId\r\n    };\r\n  },\r\n  isDragging(props, monitor) {\r\n    return monitor.getItem().id === props.id;\r\n  }\r\n};\r\n\r\nconst collect = (connect, monitor) => {\r\n  return {\r\n    connectDragSource: connect.dragSource(),\r\n    isDraggin: monitor.isDragging()\r\n  };\r\n};\r\n\r\nclass Card extends React.Component {\r\n  cardRef = React.createRef();\r\n\r\n  // getLocation = () => {\r\n  //   const { x, y } = this.cardRef.current.getClientRects()[0];\r\n  //   return { x, y };\r\n  // };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const index = this.props.cards.findIndex(\r\n      card => card.id === this.props.id\r\n    );\r\n\r\n    this.state = {\r\n      heading: this.props.cards[index].heading,\r\n      content: this.props.cards[index].content,\r\n      cardImage: this.props.cards[index].cardImage,\r\n      showModal: false\r\n    };\r\n    this.fileInputRef = React.createRef();\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name] : e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e && e.preventDefault();\r\n    const content = this.state;\r\n    this.props.onUpdate(this.props.id, content);\r\n    this.setState({\r\n      showModal: false\r\n    })\r\n  }\r\n\r\n  uploadFile = () => {\r\n    this.fileInputRef.current.click();\r\n    // this.showModal();\r\n\r\n  }\r\n  \r\n  fileChange = e => {\r\n    const file = e.target.files[0];\r\n    this.props.uploadFileAsync(file, this.props.id);\r\n  }\r\n\r\n  hideModal = () => {\r\n    const content = this.state;\r\n    this.props.onUpdate(this.props.id, content, false);\r\n  }\r\n\r\n  cardImage = () => {\r\n    return (\r\n    <Image src={`${domain}/uploads/${this.state.cardImage}`} fluid alt=\"Cannot load\" />\r\n  )}\r\n\r\n  renderEditor = () => {\r\n    // const location = this.getLocation();\r\n    return (\r\n      <Overlay onDismiss={() => null}>\r\n         <Modal size=\"tiny\" open={this.props.editing}>\r\n          <Modal.Header>Edit Card Details</Modal.Header>\r\n          <Modal.Content>\r\n            <Form onSubmit={this.handleSubmit}>\r\n            <Form.Field>\r\n              <label>Heading</label>\r\n              <input name='heading' value={this.state.heading} onChange={this.handleChange} />\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <label>Description</label>\r\n              <textarea name='content' value={this.state.content} onChange={this.handleChange} />\r\n            </Form.Field>\r\n            <Form.Field>\r\n            </Form.Field>\r\n            <Button type='submit'>Submit</Button>\r\n            <Button onClick={this.hideModal}>Cancel</Button>\r\n          </Form>\r\n          <div className=\"mt-2\"></div>\r\n          <Button\r\n            content=\"Choose Image\"\r\n            labelPosition=\"left\"\r\n            icon=\"file\"\r\n            onClick={this.uploadFile}\r\n          />\r\n          <input\r\n            ref={this.fileInputRef}\r\n            type=\"file\"\r\n            hidden\r\n            onChange={this.fileChange}\r\n          />\r\n          </Modal.Content>\r\n        </Modal>\r\n      </Overlay>\r\n    );\r\n  };\r\n\r\n  renderCard = () => {\r\n    const { connectDragSource, id, onDelete, editing, content, heading } = this.props;\r\n    return connectDragSource(\r\n      // react-dnd doesn't like refs in outter div\r\n      <div>\r\n        <div\r\n          ref={this.cardRef}\r\n          className=\"card\"\r\n          onClick={() => this.props.onClick(id)}\r\n        >\r\n          {this.state.cardImage && this.cardImage()}\r\n          <div className=\"card__labels\">\r\n            {/* <Label circular empty color=\"red\" /> */}\r\n          </div>\r\n          <div className=\"card__header\">{heading || \"No Heading\"}</div>\r\n          <div className=\"card__content\">\r\n            <p>{content}</p>\r\n          </div>\r\n          <div className=\"card__close\" onClick={() => onDelete(id)}>\r\n            <Icon name=\"times\" />\r\n          </div>\r\n          {editing && this.renderEditor()}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { isDragging } = this.props;\r\n    return isDragging ? null : this.renderCard();\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  cards: state.cards\r\n})\r\n\r\nexport default connect(mapStateToProps,\r\n   {\r\n     uploadFileAsync,\r\n     loadCardImage\r\n    })(DragSource(ItemTypes.CARD, cardSource, collect)(Card));\r\n","export const CARD = \"CARD\";\r\n","import uuid from \"uuid/v4\";\r\n\r\nimport { domain } from '../constants';\r\n\r\nimport * as actionTypes from \"actions/types\";\r\nimport Axios from \"axios\";\r\n\r\nexport const createListAsync = name => {\r\n  return dispatch => {\r\n    const data = {\r\n      id: uuid(),\r\n      name,\r\n      editing: false,\r\n      cardIds: []\r\n    };\r\n    return Axios.post(`${domain}/list/add`, data)\r\n    .then(res => {\r\n      if (res.status == 200) {\r\n        dispatch(createList(data))\r\n        return createList(data)\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n    \r\n  }\r\n}\r\n\r\nconst createList = data => {\r\n  return {\r\n    type: actionTypes.CREATE_LIST,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const deleteListAsync = (boardId, listId) => {\r\n  return dispatch => {\r\n    const data = { \r\n      boardId,\r\n      listId \r\n    };\r\n    return Axios.post(`${domain}/list/delete`, data)\r\n    .then(res => {\r\n      if (res.status == 200) {\r\n        dispatch(deleteList(data));\r\n        return deleteList(data);\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n    \r\n  }\r\n}\r\n\r\nexport const deleteList = data => {\r\n  return {\r\n    type: actionTypes.DELETE_LIST,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const updateListAsync = (listId, name, editing = false) => {\r\n  return dispatch => {\r\n    const data = {\r\n      listId,\r\n      name,\r\n      editing\r\n    };\r\n    return Axios.post(`${domain}/list/update`, data)\r\n    .then(res => {\r\n      if (res.status == 200) {\r\n        dispatch(updateList(data));\r\n        return updateList(data);\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n    \r\n  }\r\n}\r\n\r\nexport const updateList = data => {\r\n  return {\r\n    type: actionTypes.UPDATE_LIST,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const attachToListAsync = (listId, cardId) => {\r\n  return (dispatch) => {\r\n    const data = {\r\n      cardId,\r\n      listId\r\n    };\r\n    return Axios.post(`${domain}/list/attach`, data)\r\n    .then(res => {\r\n      if (res.status == 200) {\r\n        dispatch(attachToList(data));\r\n        return attachToList(data);\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n  } \r\n}\r\n\r\nexport const attachToList = data => {\r\n  return {\r\n    type: actionTypes.ATTACH_TO_LIST,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const detachFromListAsync = (listId, cardId) => {\r\n  return dispatch => {\r\n    const data = {\r\n      cardId,\r\n      listId\r\n    };\r\n    return Axios.post(`${domain}/list/detach`, data)\r\n    .then(res => {\r\n      if (res.status == 200) {\r\n        dispatch(detachFromList(data));\r\n        return detachFromList(data);\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n    \r\n  }\r\n}\r\n\r\nexport const detachFromList = data => {\r\n  return {\r\n    type: actionTypes.DETACH_FROM_LIST,\r\n    payload: data\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Icon, Modal, Form, Button } from \"semantic-ui-react\";\r\n\r\nimport { openAddCardEditor, closeAddCardEditor } from \"actions/ui\";\r\nimport { createCardAsync } from \"actions/cards\";\r\nimport { attachToListAsync } from \"actions/lists\";\r\n\r\nclass AddCardButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      heading: \"\",\r\n      content: \"\",\r\n      imageUrl: \"\",\r\n      file: null,\r\n      showModal: false\r\n    };\r\n    \r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name] : e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e && e.preventDefault();\r\n    const content = this.state;\r\n    this.props.onCreateCard(content);\r\n    this.setState({\r\n      showModal: false\r\n    })\r\n  }\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      showModal: true\r\n    })\r\n  }\r\n\r\n  hideModal = () => {\r\n    this.setState({\r\n      showModal: false\r\n    })\r\n  }\r\n\r\n \r\n  \r\n  button = (\r\n    <button\r\n      className=\"list__content__button\"\r\n      onClick={() => this.showModal()}\r\n    >\r\n      <Icon name=\"plus\" />\r\n      <span>Add another card</span>\r\n    </button>\r\n  );\r\n\r\n \r\n  render() {\r\n    return (\r\n  <Modal size=\"tiny\" open={this.state.showModal} trigger={this.button}>\r\n    <Modal.Header>Create a new Card</Modal.Header>\r\n    <Modal.Content>\r\n      <Form onSubmit={this.handleSubmit}>\r\n      <Form.Field>\r\n        <label>Heading</label>\r\n        <input name='heading' value={this.state.heading} onChange={this.handleChange} />\r\n      </Form.Field>\r\n      <Form.Field>\r\n        <label>Description</label>\r\n        <textarea name='content' value={this.state.content} onChange={this.handleChange} />\r\n      </Form.Field>\r\n      <Form.Field>\r\n      \r\n      </Form.Field>\r\n      <Button type='submit'>Submit</Button>\r\n      <Button onClick={this.hideModal}>Cancel</Button>\r\n    </Form>\r\n    \r\n    </Modal.Content>\r\n  </Modal>\r\n    )\r\n  }\r\n\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  { openAddCardEditor, closeAddCardEditor, createCardAsync, attachToListAsync }\r\n)(AddCardButton);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { PropTypes } from \"prop-types\";\r\nimport { DropTarget } from \"react-dnd\";\r\nimport { Icon } from \"semantic-ui-react\";\r\n\r\nimport Card from \"components/card/Card\";\r\nimport AddCardButton from \"components/AddCardButton\";\r\nimport { createCardAsync, updateCardAsync, deleteCardAsync } from \"actions/cards\";\r\nimport { attachToListAsync, detachFromListAsync } from \"actions/lists\";\r\nimport * as ItemTypes from \"constants/ItemTypes\";\r\n\r\nconst List = props => {\r\n  const { cardIds, onDelete, connectDropTarget, id } = props;\r\n\r\n  const handleCreateCard = async content => {\r\n    const card = await props.createCardAsync(content);\r\n    props.attachToListAsync(props.id, card.payload.id);\r\n  };\r\n\r\n  const handleDeleteCard = cardId => {\r\n    props.deleteCardAsync(props.id, cardId);\r\n  };\r\n\r\n  const handleUpdateCard = (id, content, editing = false) => {\r\n    const card = {\r\n      id,\r\n      editing,\r\n      ...content\r\n    };\r\n    props.updateCardAsync(card);\r\n  };\r\n\r\n  const handleClick = id => {\r\n    const card = props.cards.find(card => card.id === id);\r\n    card.editing = true;\r\n    props.updateCardAsync(card);\r\n  };\r\n\r\n  const renderCards = () => {\r\n    return cardIds.map(cardId => {\r\n      const cardProps = props.cards.find(card => card.id === cardId);\r\n      return (\r\n        <Card\r\n          key={cardId}\r\n          onDelete={handleDeleteCard}\r\n          onUpdate={handleUpdateCard}\r\n          onClick={handleClick}\r\n          listId={props.id}\r\n          {...cardProps}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  return connectDropTarget(\r\n    <div className=\"list\">\r\n      <div\r\n        className={`list__dragging-over ${props.isOver &&\r\n          \"list__dragging-over--active\"}`}\r\n      />\r\n      <div className=\"list__header\">\r\n        {props.children}\r\n        <div className=\"list__header__close\" onClick={() => onDelete(id)}>\r\n          <Icon name=\"times\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"list__content\">\r\n        {renderCards()}\r\n        <AddCardButton\r\n          open={props.addCardEditor.open && id === props.addCardEditor.listId}\r\n          onCreateCard={handleCreateCard}\r\n          listId={id}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nList.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  cards: PropTypes.array.isRequired\r\n};\r\n\r\nconst cardTarget = {\r\n  drop(props, monitor) {\r\n    const cardId = monitor.getItem().id;\r\n    const listId = monitor.getItem().listId;\r\n\r\n    props.detachFromListAsync(listId, cardId);\r\n    props.attachToListAsync(props.id, cardId);\r\n  }\r\n};\r\n\r\nconst collect = (dndConnect, monitor) => {\r\n  return {\r\n    connectDropTarget: dndConnect.dropTarget(),\r\n    isOver: monitor.isOver()\r\n  };\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  lists: state.lists,\r\n  cards: state.cards,\r\n  addCardEditor: state.ui.addCardEditor\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    createCardAsync,\r\n    updateCardAsync,\r\n    deleteCardAsync,\r\n    attachToListAsync,\r\n    detachFromListAsync\r\n  }\r\n)(DropTarget(ItemTypes.CARD, cardTarget, collect)(List));\r\n","import React from \"react\";\r\nimport { PropTypes } from \"prop-types\";\r\n\r\nclass Editable extends React.Component {\r\n  state = { content: this.props.content };\r\n  inputRef = React.createRef();\r\n\r\n  static propTypes = {\r\n    id: PropTypes.string,\r\n    editing: PropTypes.bool,\r\n    content: PropTypes.string,\r\n    onEdit: PropTypes.func.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    className: PropTypes.string\r\n  };\r\n\r\n  static defaultProps = {\r\n    editing: false\r\n  };\r\n\r\n  handleFinishEdit = e => {\r\n    const { content, id, onEdit } = this.props;\r\n    if (e.type === \"keydown\" && e.key !== \"Enter\") return;\r\n\r\n    const formatted = this.state.content.trim();\r\n    if (!formatted) {\r\n      this.setState({ content });\r\n      return onEdit(id, content);\r\n    }\r\n\r\n    onEdit(id, e.target.value);\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({ content: e.target.value });\r\n  };\r\n\r\n  renderValue = () => {\r\n    return (\r\n      <input\r\n        type=\"text\"\r\n        className={`editable ${this.props.className}`}\r\n        onClick={this.props.onClick}\r\n        value={this.state.content}\r\n        onChange={this.handleInputChange}\r\n        readOnly\r\n      />\r\n    );\r\n  };\r\n\r\n  renderEdit = () => {\r\n    return (\r\n      <input\r\n        ref={this.inputRef}\r\n        type=\"text\"\r\n        className={`editable editable--editing ${this.props.className}`}\r\n        onKeyDown={this.handleFinishEdit}\r\n        onBlur={this.handleFinishEdit}\r\n        onChange={this.handleInputChange}\r\n        defaultValue={this.props.content}\r\n        autoFocus={true}\r\n        value={this.state.content}\r\n      />\r\n    );\r\n  };\r\n\r\n  componentDidMount() {\r\n    // if (this.inputRef.current) {\r\n    //   this.inputRef.current.select();\r\n    // }\r\n  }\r\n\r\n  render() {\r\n    return this.props.editing ? this.renderEdit() : this.renderValue();\r\n  }\r\n}\r\n\r\nexport default Editable;\r\n","import uuid from \"uuid/v4\";\r\n\r\nimport { domain } from '../constants';\r\n\r\nimport * as actionTypes from \"actions/types\";\r\nimport Axios from \"axios\";\r\n\r\nexport const createBoardAsync = content => {\r\n  return dispatch => {\r\n    const data = {\r\n      boardId: uuid(),\r\n      name: content,\r\n      listIds: [],\r\n      editing: false\r\n    };\r\n    return Axios.post(`${domain}/board/create`, data)\r\n      .then(res => {\r\n        if (res.status == 200) {\r\n          dispatch(createBoard(data));\r\n          return createBoard(data);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err.message);\r\n      });   \r\n  }\r\n}\r\n\r\nexport const createBoard = content => {\r\n  return {\r\n    type: actionTypes.CREATE_BOARD,\r\n    payload: content\r\n  };\r\n};\r\n\r\nexport const attachToBoardAsync = (boardId, listId) => {\r\n  return dispatch => {\r\n    const data = {\r\n      boardId,\r\n      listId\r\n    };\r\n    return Axios.post(`${domain}/board/attach`, data)\r\n    .then(res => {\r\n      if (res.status == 200) {\r\n        dispatch(attachToBoard(data));\r\n        return attachToBoard(data);\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    });\r\n  }\r\n}\r\n\r\nexport const attachToBoard = data => {\r\n  return {\r\n    type: actionTypes.ATTACH_TO_BOARD,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const updateBoardAsync = (boardId, name, editing = false) => {\r\n  return dispatch => {\r\n    const data = {\r\n      boardId,\r\n      name,\r\n      editing\r\n    };\r\n    return Axios.post(`${domain}/board/update`, data)\r\n    .then(res => {      \r\n      if (res.status == 200) {\r\n        dispatch(updateBoard(data));\r\n        return updateBoard(data);\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    });\r\n    \r\n  }\r\n}\r\n\r\nexport const updateBoard = data => {\r\n  return {\r\n    type: actionTypes.UPDATE_BOARD,\r\n    payload: data\r\n  };\r\n};\r\n","import React from \"react\";\r\n\r\nimport { Button } from \"semantic-ui-react\";\r\n\r\nconst ButtonWrapper = props => {\r\n  return <Button {...props} />;\r\n};\r\n\r\nButtonWrapper.displayName = \"button\";\r\n\r\nexport default ButtonWrapper;\r\n","import React from \"react\";\r\n\r\nimport { Input } from \"semantic-ui-react\";\r\n\r\nconst InputWrapper = props => {\r\n  return <Input {...props} ref={props.forwardref} />;\r\n};\r\n\r\nInputWrapper.displayName = \"input\";\r\n\r\nexport default InputWrapper;\r\n","import React from \"react\";\r\n\r\nimport { TextArea } from \"semantic-ui-react\";\r\n\r\nconst TextAreaWrapper = props => {\r\n  return <TextArea {...props} />;\r\n};\r\n\r\nTextAreaWrapper.displayName = \"textarea\";\r\n\r\nexport default TextAreaWrapper;\r\n","import React from \"react\";\r\nimport { PropTypes } from \"prop-types\";\r\nimport { Form, Ref } from \"semantic-ui-react\";\r\n// import { Input, TextArea, Button, Form, Ref } from \"semantic-ui-react\";\r\n// When produce minified build \"child.type.name\" doesn't work, plus I don't\r\n// have access to the semantic components so I wrapped them in my component\r\nimport Button from \"./form/Button\";\r\nimport Input from \"./form/Input\";\r\nimport TextArea from \"./form/TextArea\";\r\n\r\nimport ClickCatcher from \"./ClickCatcher\";\r\n\r\nclass Editor extends React.Component {\r\n  state = {\r\n    content: this.props.value || \"\",\r\n    count: this.props.value ? this.props.value.length : 0,\r\n    error: {}\r\n  };\r\n  editorRef = React.createRef();\r\n  inputRef = React.createRef();\r\n\r\n  static propTypes = {\r\n    value: PropTypes.string,\r\n    placeholder: PropTypes.string,\r\n    limit: PropTypes.number,\r\n    className: PropTypes.string,\r\n    onDismiss: PropTypes.func,\r\n    onSubmit: PropTypes.func\r\n  };\r\n\r\n  static Input = Input;\r\n  static TextArea = TextArea;\r\n  static Button = Button;\r\n\r\n  handleClick = e => {\r\n    e.stopPropagation();\r\n  };\r\n\r\n  handleDismiss = () => {\r\n    const style = this.editorRef.current.style;\r\n    style.opacity = 0;\r\n    style.maxHeight = \"36px\";\r\n\r\n    setTimeout(() => {\r\n      this.props.onDismiss();\r\n    }, 160);\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    if (!this.props.limit) {\r\n      return this.setState({ content: e.target.value });\r\n    }\r\n    //if limit is set, check if input length exceeds limit\r\n    const count = e.target.value.trim().length;\r\n    if (count >= this.props.limit) {\r\n      this.setState({ error: { exceedMaxCount: true } });\r\n    } else if (this.state.error.exceedMaxCount) {\r\n      this.setState({ error: { exceedMaxCount: false } });\r\n    }\r\n    this.setState({ content: e.target.value, count });\r\n  };\r\n\r\n  handleKeyDown = e => {\r\n    if (e.key === \"Enter\") {\r\n      return this.handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e && e.preventDefault();\r\n    const content = this.state.content.trim();\r\n    if (!content || this.state.error.exceedMaxCount) return;\r\n    this.setState({ content: \"\" });\r\n    this.inputRef.current.focus();\r\n    this.props.onSubmit(content);\r\n  };\r\n\r\n  //renders Input component\r\n  renderInput = child => {\r\n    const { placeholder } = this.props;\r\n\r\n    return (\r\n      <div className=\"editor__input\">\r\n        {React.cloneElement(child, {\r\n          placeholder,\r\n          value: this.state.content,\r\n          onChange: this.handleInputChange,\r\n          onKeyDown: this.handleKeyDown,\r\n          forwardref: this.inputRef\r\n        })}\r\n        {this.renderCount()}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  //renders TextArea component\r\n  renderTextArea = child => {\r\n    const { placeholder } = this.props;\r\n\r\n    return (\r\n      <div className={`editor__textarea`}>\r\n        <Ref innerRef={this.inputRef}>\r\n          {React.cloneElement(child, {\r\n            placeholder,\r\n            value: this.state.content,\r\n            onChange: this.handleInputChange,\r\n            onKeyDown: this.handleKeyDown\r\n          })}\r\n        </Ref>\r\n        {this.renderCount()}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderCount = () => {\r\n    const { limit } = this.props;\r\n    const { count, error } = this.state;\r\n\r\n    return (\r\n      <div\r\n        className={`editor__count ${error.exceedMaxCount &&\r\n          \"editor__count--error\"}`}\r\n      >\r\n        <span>{limit && count + \"/\" + limit}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderButton = child => {\r\n    return (\r\n      <div className=\"editor__button\">\r\n        {React.cloneElement(child, {\r\n          primary: true,\r\n          onClick: this.handleSubmit\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderChildren = () => {\r\n    const { children } = this.props;\r\n    return React.Children.map(children, child => {\r\n      const name = child.type.displayName;\r\n      switch (name) {\r\n        case \"input\":\r\n          return this.renderInput(child);\r\n        case \"textarea\":\r\n          return this.renderTextArea(child);\r\n        case \"button\":\r\n          return this.renderButton(child);\r\n        default:\r\n          return child;\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.inputRef.current.focus();\r\n    this.inputRef.current.select();\r\n\r\n    const style = this.editorRef.current.style;\r\n    style.opacity = 1;\r\n    style.maxHeight = \"200px\";\r\n  }\r\n\r\n  render() {\r\n    const { className } = this.props;\r\n    return (\r\n      <Ref innerRef={this.editorRef}>\r\n        <Form\r\n          className={`editor ${className || \"\"}`}\r\n          onSubmit={this.handleSubmit}\r\n          onClick={this.handleClick}\r\n        >\r\n          {this.renderChildren()}\r\n          <ClickCatcher onDismiss={this.handleDismiss} />\r\n        </Form>\r\n      </Ref>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Editor;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Icon } from \"semantic-ui-react\";\r\n\r\nimport { openAddListEditor, closeAddListEditor } from \"actions/ui\";\r\nimport { createListAsync } from \"actions/lists\";\r\nimport { attachToBoardAsync } from \"actions/boards\";\r\nimport Editor from \"components/ui/Editor\";\r\n\r\nconst AddListButton = props => {\r\n  const handleCreateList = async listName => {\r\n    const list = await props.createListAsync(listName);\r\n    props.attachToBoardAsync(props.boardId, list.payload.id);\r\n  };\r\n\r\n  const button = (\r\n    <button\r\n      className=\"add-list__button\"\r\n      onClick={() => props.openAddListEditor(props.boardId)}\r\n    >\r\n      <Icon name=\"plus\" /> Add another list\r\n    </button>\r\n  );\r\n\r\n  const editor = (\r\n    <Editor\r\n      className=\"add-list__editor\"\r\n      placeholder=\"Enter list title...\"\r\n      onSubmit={handleCreateList}\r\n      onDismiss={props.closeAddListEditor}\r\n      limit={25}\r\n    >\r\n      <Editor.Input fluid autoFocus />\r\n      <Editor.Button content=\"Add List\" />\r\n    </Editor>\r\n  );\r\n\r\n  return <div className=\"add-list\">{props.open ? editor : button}</div>;\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  { openAddListEditor, closeAddListEditor, createListAsync, attachToBoardAsync }\r\n)(AddListButton);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport List from \"components/List\";\r\nimport Editable from \"components/ui/Editable\";\r\nimport AddListButton from \"components/AddListButton\";\r\nimport { updateListAsync, createListAsync, deleteListAsync } from \"actions/lists\";\r\nimport { updateBoardAsync } from \"actions/boards\";\r\nimport { deleteCardAsync, deleteAllListCards } from \"actions/cards\";\r\n\r\nclass Board extends React.Component {\r\n  boardId = this.props.match.params.id;\r\n\r\n  handleNameClick = () => {\r\n    const name = this.props.boards[this.boardId].name;\r\n    this.props.updateBoardAsync(this.boardId, name, true);\r\n  };\r\n\r\n  handleDeleteList = listId => {\r\n    const list = this.props.lists[listId];\r\n    let cardsIdsDelete = [];\r\n    list.cardIds.forEach(cardId => cardsIdsDelete.push(cardId));\r\n    this.props.deleteAllListCards(cardsIdsDelete);\r\n    this.props.deleteListAsync(this.boardId, listId);\r\n  };\r\n\r\n  renderLists = () => {\r\n    const { boards, lists } = this.props;\r\n    return boards[this.boardId].listIds.map(listId => {\r\n      const list = lists[listId];\r\n      return (\r\n        <List\r\n          key={list.id}\r\n          {...list}\r\n          onDelete={() => this.handleDeleteList(list.id)}\r\n        >\r\n          <Editable\r\n            id={list.id}\r\n            content={list.name}\r\n            editing={list.editing}\r\n            onClick={() => this.props.updateListAsync(list.id, list.name, true)}\r\n            onEdit={this.props.updateListAsync}\r\n          />\r\n        </List>\r\n      );\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const board = this.props.boards[this.boardId];\r\n    if (!board) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n    const { name, editing } = board;\r\n\r\n    return (\r\n      <div className=\"board\">\r\n        <div className=\"board__header\">\r\n          <Editable\r\n            className=\"board__header__board-name\"\r\n            id={this.boardId}\r\n            onClick={this.handleNameClick}\r\n            editing={editing}\r\n            onEdit={this.props.updateBoardAsync}\r\n            content={name}\r\n          />\r\n        </div>\r\n        <div className=\"board__content\">\r\n          {this.renderLists()}\r\n          <div className=\"board__content__add\">\r\n            <AddListButton\r\n              open={\r\n                this.props.addListEditor.open &&\r\n                this.boardId === this.props.addListEditor.boardId\r\n              }\r\n              boardId={this.boardId}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  boards: state.boards.boards,\r\n  lists: state.lists,\r\n  addListEditor: state.ui.addListEditor\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { updateListAsync, createListAsync, deleteListAsync, deleteCardAsync, updateBoardAsync, deleteAllListCards }\r\n)(Board);\r\n","import React from \"react\";\r\n\r\nconst Boards = () => {\r\n  return <div>Boards</div>;\r\n};\r\n\r\nexport default Boards;\r\n","import React from \"react\";\r\nimport Board from \"./Board\";\r\nimport Boards from \"./Boards\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n\r\nclass Content extends React.Component {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Boards} />\r\n        <Route\r\n          path=\"/:id\"\r\n          exact\r\n          render={props => (\r\n            // key is set this way to ensure board is re-rendered\r\n            // every time the router param changes\r\n            <Board key={props.match.params.id} {...props} />\r\n          )}\r\n        />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Content;\r\n","import React from \"react\";\r\n\r\nimport Editor from \"components/ui/Editor\";\r\n\r\nclass CreateBoardModal extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"create-board-modal\">\r\n        <Editor\r\n          className=\"create-board-modal__editor\"\r\n          placeholder=\"Add board title\"\r\n          onSubmit={this.props.onSubmit}\r\n        >\r\n          <Editor.Input />\r\n          <Editor.Button content=\"Create Board\" />\r\n        </Editor>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateBoardModal;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport HTML5Backend from \"react-dnd-html5-backend\";\r\nimport { DragDropContext } from \"react-dnd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport AppBar from \"components/AppBar\";\r\nimport Content from \"components/Content\";\r\nimport CreateBoardModal from \"./CreateBoardModal\";\r\nimport Overlay from \"./ui/Overlay\";\r\nimport { toggleCreateBoardModal } from \"./../actions/ui\";\r\nimport { createBoardAsync } from \"./../actions/boards\";\r\nimport { loadInitialState } from \"./../actions/initial\"\r\n\r\nclass App extends React.Component {\r\n  componentDidMount = () => {\r\n    this.props.loadInitialState();\r\n  }\r\n  handleCreateBoard = async (content) => {\r\n    const {boardId} = await this.props.createBoardAsync(content);\r\n    this.props.toggleCreateBoardModal(false);\r\n    this.props.history.push(`/${boardId}`);\r\n  };\r\n\r\n  createBoardModal = (\r\n    <Overlay onDismiss={() => this.props.toggleCreateBoardModal(false)}>\r\n      <CreateBoardModal onSubmit={this.handleCreateBoard} />\r\n    </Overlay>\r\n  );\r\n\r\n  render() {\r\n    const className = this.props.pinned ? \"app app--drawer-pinned\" : \"app\";\r\n    return (\r\n      <div className={className}>\r\n        <div id=\"clickCatcher\" />\r\n        <AppBar />\r\n        <Content />\r\n        {this.props.createBoardModal.open && this.createBoardModal}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    boards: state.boards,\r\n    pinned: state.ui.boardDrawer.pinned,\r\n    createBoardModal: state.ui.createBoardModal\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  DragDropContext(HTML5Backend)(\r\n    connect(\r\n      mapStateToProps,\r\n      { toggleCreateBoardModal, createBoardAsync, loadInitialState }\r\n    )(App)\r\n  )\r\n);\r\n","export const loadInitialState = () => {\r\n    return {\r\n        type: \"redux-async-initial-state/STATE_LOADING_START\" // Action to be dispatched so that the intial state is loaded automatically.\r\n    }\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nimport Root from \"./Root\";\r\nimport App from \"./components/App\";\r\n\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"styles/css/index.css\";\r\n\r\nReactDOM.render(\r\n  <Root>\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </Root>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}